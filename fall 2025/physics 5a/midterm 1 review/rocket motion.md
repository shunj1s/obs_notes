during time interval $\Delta t$, the engine exerts a force expelling fuel $\Delta m$ with velocity $\mathbf{u}$.
by Newton's third law, the center of mass of the expelled mass and rocket moves at constant velocity.

if $\Delta m$ is accelerated backwards, the rocket must be accelerated forwards.

mass of rocket = $M + \Delta m$ and rocket is at velocity $\mathbf{v}$.

at time $t$ a thruster fires, expelling $\Delta m$ in time $\Delta t$. what is $\mathbf{v} + \mathbf{\Delta v}$ at time $t + \Delta t$?

$$\mathbf{P}(f) = (M + \Delta m)\mathbf{v}$$
$$\mathbf{P}(t + \Delta t) = M(\mathbf{v} + \mathbf{\Delta v}) + \Delta m (\mathbf{v} + \mathbf{\Delta v} + \mathbf{u})$$
$$\mathbf{\Delta P} = M\Delta \mathbf{v} + \Delta m (\mathbf{\Delta v + u})$$
thus:
$$\frac{\mathbf{d}P}{dt} = \lim{\Delta t \rightarrow 0}(M\frac{\Delta\mathbf{v}}{\Delta t} + \frac{\Delta m $$
